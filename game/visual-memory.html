<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Visual Memory</title>
  <style>
    :root{--size:60px;--gap:10px}
    *{box-sizing:border-box}
    body{margin:0;background:#f0f4f8;font-family:system-ui, Arial}
    .wrap{max-width:780px;margin:0 auto;padding:16px}
    h1{font-size:1.4rem;margin:6px 0 12px}
    .grid{display:grid;grid-template-columns:repeat(6, var(--size));gap:var(--gap);justify-content:center}
    .cell{width:var(--size);height:var(--size);border-radius:6px;border:1px solid #ccc;background:#fff}
    .cell.target{background:#2ecc71}
    button{padding:8px 12px;border-radius:6px;border:1px solid #888;background:#fff;cursor:pointer}
    #status{margin-left:8px;color:#555}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Visual Memory</h1>
    <div class="row" style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:6px">
      <button id="startBtn">Start</button>
      <span id="status">Press Start</span>
    </div>
    <div class="grid" id="grid"></div>
  </div>

  <script>
    const gridEl = document.getElementById('grid');
    const startBtn = document.getElementById('startBtn');
    const statusEl = document.getElementById('status');
    let targets = [];
    function render(){ gridEl.innerHTML=''; for(let i=0;i<36;i++){ const c=document.createElement('div'); c.className='cell'; c.dataset.index=i; c.addEventListener('click', ()=> onClick(i)); gridEl.appendChild(c);} }
    function randomTargets(){ targets = new Set(); while(targets.size<8){ targets.add(Math.floor(Math.random()*36)); } }
    function showTargets(){ const cells = gridEl.querySelectorAll('.cell'); targets.forEach(idx=>{ cells[idx].classList.add('target'); }); }
    function clearTargets(){ gridEl.querySelectorAll('.cell').forEach(c=> c.classList.remove('target')) }
    function onClick(index){ if(targets.length===0) return; const idx = Array.from(gridEl.children).indexOf(gridEl.children[index]); // not used
      // We'll implement simple: track user picks by a boolean array
      const cell = gridEl.children[index]; cell.style.outline = '2px solid #f39c12'; setTimeout(()=> cell.style.outline='none', 150);
      recordedClicks.push(index);
      if(recordedClicks.length === targets.length){ // evaluate
        const ok = recordedClicks.every((v,i)=> v===Array.from(targets)[i]);
        statusEl.textContent = ok? 'Correct!' : 'Incorrect';
      }
    }
    let recordedClicks = [];
    startBtn.addEventListener('click', ()=>{
      render();
      randomTargets();
      // show targets briefly
      showTargets();
      setTimeout(()=>{ clearTargets(); statusEl.textContent = 'Memorize the positions'; }, 1500);
      recordedClicks = [];
    });
    // Initialize
    render();
  </script>
</body>
</html>
